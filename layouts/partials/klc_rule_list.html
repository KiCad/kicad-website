{{ $filter := .filter }}
{{/* Iterate through each /content/klc page and display a link,
     only if the filename matches the supplied filter */}}
<ul>
{{ range (where .scope.Site.Pages "Section" "klc") (sort .scope.Site.Pages ".File.LogicalName") }}
{{ $rule := (replace .File.LogicalName ".adoc" "" ) }}
{{ if and (hasPrefix .File.LogicalName $filter) (in .File.LogicalName ".adoc") }}
<li>
<a href="/libraries/klc/{{ $rule }}">{{ $rule }} - {{ .Params.brief }}</a>
</li>
{{ end }}
{{ end }}